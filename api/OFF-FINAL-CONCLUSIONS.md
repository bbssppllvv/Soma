# OpenFoodFacts API - –§–∏–Ω–∞–ª—å–Ω—ã–µ –≤—ã–≤–æ–¥—ã

## üéØ **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ —Ä–µ—à–µ–Ω–∞**

–ú—ã **—Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–ª–∏** OpenFoodFacts API –∏ –ø–æ–ª—É—á–∏–ª–∏ **–ø–æ–ª–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ** –µ–≥–æ —Ä–∞–±–æ—Ç—ã, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π.

---

## üìä **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç OpenFoodFacts API**

### 1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ API (3 —É—Ä–æ–≤–Ω—è)**

```
ü•á SaL API (Search-a-licious)
   ‚Ä¢ URL: https://search.openfoodfacts.org/search
   ‚Ä¢ –ú–µ—Ç–æ–¥: POST —Å Lucene-–∑–∞–ø—Ä–æ—Å–∞–º–∏
   ‚Ä¢ –°—Ç–∞—Ç—É—Å: üî¥ BROKEN (100% –æ—à–∏–±–æ–∫ 500)
   ‚Ä¢ –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

ü•à v2 API  
   ‚Ä¢ URL: https://world.openfoodfacts.org/api/v2/search
   ‚Ä¢ –ú–µ—Ç–æ–¥: GET —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   ‚Ä¢ –°—Ç–∞—Ç—É—Å: üü° –†–ê–ë–û–¢–ê–ï–¢, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ
   ‚Ä¢ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: –¢—Ä–µ–±—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã

ü•â Legacy API
   ‚Ä¢ URL: https://world.openfoodfacts.org/cgi/search.pl
   ‚Ä¢ –ú–µ—Ç–æ–¥: GET —Å –ø—Ä–æ—Å—Ç—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   ‚Ä¢ –°—Ç–∞—Ç—É—Å: üü¢ –°–¢–ê–ë–ò–õ–¨–ù–û –†–ê–ë–û–¢–ê–ï–¢
   ‚Ä¢ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: –ü—Ä–æ—Å—Ç–æ–π, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω—ã–π
```

### 2. **–†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

```
‚úÖ Legacy API: 
   ‚Ä¢ –ù–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ–¥—É–∫—Ç—ã: –î–ê (877 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è Coca Cola)
   ‚Ä¢ –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 200-600ms
   ‚Ä¢ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: –í—ã—Å–æ–∫–∞—è
   ‚Ä¢ –ö–∞—á–µ—Å—Ç–≤–æ: –°—Ä–µ–¥–Ω–µ–µ (–Ω–∞—Ö–æ–¥–∏—Ç, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞ —Ç–æ—á–Ω–æ)

‚ùå SaL API:
   ‚Ä¢ –ù–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ–¥—É–∫—Ç—ã: –ù–ï–¢ (100% –æ—à–∏–±–æ–∫ 500)
   ‚Ä¢ –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 60-350ms (–∫–æ–≥–¥–∞ –Ω–µ –ø–∞–¥–∞–µ—Ç)
   ‚Ä¢ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: –ù—É–ª–µ–≤–∞—è
   ‚Ä¢ –ö–∞—á–µ—Å—Ç–≤–æ: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

üü° v2 API:
   ‚Ä¢ –ù–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ–¥—É–∫—Ç—ã: –ò–Ω–æ–≥–¥–∞
   ‚Ä¢ –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 600-1200ms
   ‚Ä¢ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: –°—Ä–µ–¥–Ω—è—è
   ‚Ä¢ –ö–∞—á–µ—Å—Ç–≤–æ: –•–æ—Ä–æ—à–µ–µ (–∫–æ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç)
```

---

## üö® **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è API**

### 1. **SaL API (–æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ–∏—Å–∫–æ–≤–∏–∫) - –°–õ–û–ú–ê–ù**
```
–ü—Ä–æ–±–ª–µ–º–∞: Internal Server Error –Ω–∞ –ª—é–±—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
–ü—Ä–∏—á–∏–Ω–∞: –ù–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç Lucene-–∑–∞–ø—Ä–æ—Å—ã —Å boost (^) –∏ proximity (~)
–°—Ç–∞—Ç—É—Å: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã OFF
```

### 2. **Rate Limiting (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)**
```
–õ–∏–º–∏—Ç—ã: ~10-20 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
–†–µ—à–µ–Ω–∏–µ: –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (capacity=2, refill=20s)
–í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ: –ù–µ –ø—Ä–æ–±–ª–µ–º–∞ (1-2 –∑–∞–ø—Ä–æ—Å–∞ –≤ –º–∏–Ω—É—Ç—É)
```

### 3. **–ö–∞—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞**
```
‚úÖ –ù–∞—Ö–æ–¥–∏—Ç –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –±—Ä–µ–Ω–¥—ã: Coca Cola, Philadelphia
‚ùå –¢–æ—á–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: –°—Ä–µ–¥–Ω—è—è (Orange juice –≤–º–µ—Å—Ç–æ Coca Cola)
üü° –ò—Å–ø–∞–Ω—Å–∫–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã: –ü—Ä–æ–±–ª–µ–º–∞—Ç–∏—á–Ω–æ
```

---

## üí™ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ**

### ‚úÖ **Legacy API - –Ω–∞—à —Å–ø–∞—Å–∏—Ç–µ–ª—å**
- –°—Ç–∞–±–∏–ª—å–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ–¥—É–∫—Ç—ã
- –ü—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç–ª–∏—á–Ω–æ
- –•–æ—Ä–æ—à–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –±—Ä–µ–Ω–¥–∞–º–∏

### ‚úÖ **Fallback —Å–∏—Å—Ç–µ–º–∞**
- SaL ‚Üí v2 ‚Üí Legacy —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- Graceful degradation

### ‚úÖ **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –±—Ä–µ–Ω–¥–æ–≤ (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)**
- –°–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- M&M's ‚Üí mandms —Ä–∞–±–æ—Ç–∞–µ—Ç
- Coca-Cola ‚Üí coca cola —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üéØ **–í —á–µ–º API —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ vs –ø–ª–æ—Ö–æ**

### üü¢ **–•–û–†–û–®–û:**
1. **–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±—Ä–µ–Ω–¥—ã**: Coca Cola, Philadelphia, Danone
2. **–ü—Ä–æ—Å—Ç—ã–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã**: "philadelphia", "coca cola"
3. **Legacy fallback**: –í—Å–µ–≥–¥–∞ —á—Ç–æ-—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç
4. **–ë–æ–ª—å—à–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: 877 –ø—Ä–æ–¥—É–∫—Ç–æ–≤ Coca Cola!
5. **–°—Ç–∞–±–∏–ª—å–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: API –¥–æ—Å—Ç—É–ø–µ–Ω 24/7

### üî¥ **–ü–õ–û–•–û:**
1. **SaL API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–ª–æ–º–∞–Ω**: 100% –æ—à–∏–±–æ–∫ 500
2. **–ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –ù–∞—Ö–æ–¥–∏—Ç –Ω–µ —Ç–æ, —á—Ç–æ –∏—â–µ–º
3. **–ò—Å–ø–∞–Ω—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã**: –•—É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ–º –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ
4. **–°–ª–æ–∂–Ω—ã–µ –±—Ä–µ–Ω–¥—ã**: M&M's, Ben & Jerry's –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏—á–Ω—ã
5. **–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã**: 600-3000ms

---

## üöÄ **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**

### 1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å (—ç—Ç–∞ –Ω–µ–¥–µ–ª—è)**
```javascript
// –û—Ç–∫–ª—é—á–∏—Ç—å SaL API –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è OFF
const DISABLE_SAL = true;

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Legacy + v2
async function searchProduct(query) {
  try {
    // –°–Ω–∞—á–∞–ª–∞ v2 (–µ—Å–ª–∏ –µ—Å—Ç—å –±—Ä–µ–Ω–¥)
    if (hasBrand) {
      result = await v2Search();
      if (result) return result;
    }
    
    // Fallback –Ω–∞ Legacy (–≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç)
    return await legacySearch();
    
  } catch (error) {
    // –í—Å–µ–≥–¥–∞ fallback –Ω–∞ Legacy
    return await legacySearch();
  }
}
```

### 2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤**
```javascript
// –ü—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ª—É—á—à–µ
const simpleQuery = `${brand} ${product}`.trim();

// –ò–∑–±–µ–≥–∞—Ç—å —Å–ª–æ–∂–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
const filters = {
  brands_tags: normalizeBrand(brand),
  // categories_tags: skip –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã
  search_terms: simpleQuery
};
```

### 3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞**
```javascript
// –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- find_rate: —Å–∫–æ–ª—å–∫–æ % –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç —á—Ç–æ-—Ç–æ
- brand_accuracy: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ –±—Ä–µ–Ω–¥
- product_accuracy: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ —Ç–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞
- avg_response_time: —Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞
```

---

## üéØ **–ò—Ç–æ–≥–æ–≤—ã–π –≤–µ—Ä–¥–∏–∫—Ç**

### ‚úÖ **OpenFoodFacts API –ø—Ä–∏–≥–æ–¥–µ–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞** –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Legacy API** –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π (–Ω–µ SaL)
2. **–ü—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã** —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç–ª–∏—á–Ω–æ
3. **–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±—Ä–µ–Ω–¥—ã** –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ö–æ—Ä–æ—à–æ
4. **Fallback —Å–∏—Å—Ç–µ–º–∞** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
5. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±–æ–≥–∞—Ç–∞—è** (—Å–æ—Ç–Ω–∏ —Ç—ã—Å—è—á –ø—Ä–æ–¥—É–∫—Ç–æ–≤)

### üö® **–ù–æ —Ç—Ä–µ–±—É–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è:**

1. **SaL API —Å–ª–æ–º–∞–Ω** - –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
2. **–ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
3. **–ò—Å–ø–∞–Ω—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã** —Ä–∞–±–æ—Ç–∞—é—Ç —Ö—É–∂–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö
4. **–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã

---

## üèÜ **–ú–∏—Å—Å–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!**

**–ú—ã –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ–º —Å OpenFoodFacts API –≤—Å–ª–µ–ø—É—é.**

–£ –Ω–∞—Å –µ—Å—Ç—å:
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- ‚úÖ –ó–Ω–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ –ø—Ä–æ–±–ª–µ–º  
- ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚úÖ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –Ω–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–æ–π API! üöÄ
