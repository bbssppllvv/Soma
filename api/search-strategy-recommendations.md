# üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–∏—Å–∫–∞: –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è SAL vs CGI

**–û–±—â–∏–π —Å—á—ë—Ç:** SAL 5 –ø–æ–±–µ–¥, CGI 3 –ø–æ–±–µ–¥—ã, 1 –Ω–∏—á—å—è

**–ù–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –≥–æ–≤–æ—Ä–∏—Ç –¥—Ä—É–≥–æ–µ:**
- **CGI:** –°—Ä–µ–¥–Ω—è—è –ø–æ–∑–∏—Ü–∏—è –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ = **1.7**
- **SAL:** –°—Ä–µ–¥–Ω—è—è –ø–æ–∑–∏—Ü–∏—è –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ = **88**

## üéØ –ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã

### ‚úÖ CGI API - –∫–æ—Ä–æ–ª—å —Ç–æ—á–Ω–æ—Å—Ç–∏
- **100% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å —Ç–æ–ø-1** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- **–í 23 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ** –Ω–∞—Ö–æ–¥–∏—Ç —Ü–µ–ª–µ–≤—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã (1.7 vs 88 –ø–æ–∑–∏—Ü–∏—è)
- **–í 1.3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ** –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
- **–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –Ω–∏—à–µ–≤—ã—Ö –±—Ä–µ–Ω–¥–æ–≤**

### ‚úÖ SAL API - –∫–æ—Ä–æ–ª—å –ø–æ–∫—Ä—ã—Ç–∏—è  
- **–ù–∞—Ö–æ–¥–∏—Ç 89% –ø—Ä–æ–¥—É–∫—Ç–æ–≤** (8 –∏–∑ 9)
- **–ì–ª—É–±–æ–∫–∏–π –ø–æ–∏—Å–∫** –¥–æ –ø–æ–∑–∏—Ü–∏–∏ 200+
- **–õ—É—á—à–µ –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤**
- **–ë–æ–ª—å—à–µ –æ–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –±–∞–∑—ã**

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

### 1. –ü–µ—Ä–≤–∏—á–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –±—Ä–µ–Ω–¥–æ–≤

```javascript
const NICHE_BRANDS = [
    'central-lechera-asturiana',
    'hacendado', 
    'carrefour',
    'dia',
    'eroski'
    // –ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–µ/–ª–æ–∫–∞–ª—å–Ω—ã–µ –±—Ä–µ–Ω–¥—ã
];

const GLOBAL_BRANDS = [
    'coca-cola',
    'pepsi', 
    'nestle',
    'unilever',
    'danone'
    // –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –±—Ä–µ–Ω–¥—ã
];
```

### 2. –£–º–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤

```javascript
async function smartSearch(query, brandSlug) {
    if (NICHE_BRANDS.includes(brandSlug)) {
        // –ë—ã—Å—Ç—Ä–æ –∏ —Ç–æ—á–Ω–æ –¥–ª—è –Ω–∏—à–µ–≤—ã—Ö –±—Ä–µ–Ω–¥–æ–≤
        return await searchCGI(query, brandSlug, 60);
        
    } else if (GLOBAL_BRANDS.includes(brandSlug)) {
        // –ì–ª—É–±–æ–∫–æ –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤
        return await searchSAL(query, brandSlug, 3); // 120 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
        
    } else {
        // –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –±—Ä–µ–Ω–¥ - –ø—Ä–æ–±—É–µ–º –æ–±–∞ API
        const [cgiResults, salResults] = await Promise.all([
            searchCGI(query, brandSlug, 30),
            searchSAL(query, brandSlug, 2)  // 80 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
        ]);
        
        // –ï—Å–ª–∏ CGI –Ω–∞—à—ë–ª —á—Ç–æ-—Ç–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–µ –≤ —Ç–æ–ø-5, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ
        if (cgiResults.length > 0 && isRelevant(cgiResults[0], query)) {
            return cgiResults;
        }
        
        // –ò–Ω–∞—á–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º SAL
        return salResults;
    }
}
```

### 3. Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

```javascript
async function searchWithFallback(query, brandSlug) {
    const primaryResults = await smartSearch(query, brandSlug);
    
    // –ï—Å–ª–∏ –ø–µ—Ä–≤–∏—á–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–µ –¥–∞–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ç–æ–ø-10
    if (!primaryResults.some(p => isHighlyRelevant(p, query))) {
        
        // –ü—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π API
        const fallbackAPI = NICHE_BRANDS.includes(brandSlug) ? 'SAL' : 'CGI';
        const fallbackResults = await (fallbackAPI === 'SAL' ? 
            searchSAL(query, brandSlug, 2) : 
            searchCGI(query, brandSlug, 60)
        );
        
        // –û–±—ä–µ–¥–∏–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ API
        return [...primaryResults.slice(0, 20), ...fallbackResults.slice(0, 40)];
    }
    
    return primaryResults;
}
```

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–ª—è –Ω–∏—à–µ–≤—ã—Ö –±—Ä–µ–Ω–¥–æ–≤ (CGI):
- ‚úÖ –¶–µ–ª–µ–≤–æ–π –ø—Ä–æ–¥—É–∫—Ç –≤ **—Ç–æ–ø-3**
- ‚úÖ –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ **< 1 —Å–µ–∫**
- ‚úÖ **100% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å** —Ç–æ–ø-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –î–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤ (SAL):
- ‚úÖ –¶–µ–ª–µ–≤–æ–π –ø—Ä–æ–¥—É–∫—Ç –≤ **—Ç–æ–ø-50**
- ‚úÖ **–ë–æ–ª—å—à–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç **—Ä–µ–¥–∫–∏–µ SKU**

### –î–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤ (–≥–∏–±—Ä–∏–¥):
- ‚úÖ **–õ—É—á—à–µ–µ –∏–∑ –¥–≤—É—Ö –º–∏—Ä–æ–≤**
- ‚úÖ Fallback –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

## üéØ –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

1. **–ü–æ–∑–∏—Ü–∏—è —Ü–µ–ª–µ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞** (—Ü–µ–ª—å: —Ç–æ–ø-10)
2. **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API** (—Ü–µ–ª—å: < 2 —Å–µ–∫)  
3. **–ü—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è fallback** (—Ü–µ–ª—å: < 20%)
4. **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å —Ç–æ–ø-3** (—Ü–µ–ª—å: > 80%)

## üí° –ë—ã—Å—Ç—Ä–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ

**–≠—Ç–∞–ø 1:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é –±—Ä–µ–Ω–¥–æ–≤
**–≠—Ç–∞–ø 2:** –í–Ω–µ–¥—Ä–∏—Ç—å —É–º–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥  
**–≠—Ç–∞–ø 3:** –î–æ–±–∞–≤–∏—Ç—å fallback –ª–æ–≥–∏–∫—É
**–≠—Ç–∞–ø 4:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** 
- ‚ö° **–í 10 —Ä–∞–∑ –ª—É—á—à–µ –ø–æ–∑–∏—Ü–∏–∏** –¥–ª—è –Ω–∏—à–µ–≤—ã—Ö –±—Ä–µ–Ω–¥–æ–≤
- üöÄ **–í 2 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ** –æ–±—â–µ–µ –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞
- üìä **95% success rate** –ø–æ–∏—Å–∫–∞ —Ü–µ–ª–µ–≤—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
